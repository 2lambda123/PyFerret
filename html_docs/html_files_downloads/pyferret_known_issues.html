<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>PyFerret Release Notes and Known Issues</title>
<link rel="stylesheet" type="text/css" href="pyferret.css" />
</head>

<body>

<h1>PyFerret Release Notes and Known Issues</h1>

<p>
The following describes changes in behavior, 
<a href="#KNOWNISSUES">known issues</a>, and
<a href="#RELEASENOTES">release notes</a> for PyFerret.
The known issues listed are those specific to PyFerret and does not 
include issues with the Ferret engine contained within PyFerret.
</p>

<h3>Changes in behavior</h3>

<dl>
<dt>"Metafile" name used for image files in any supported format</dt>
    <dd>
    The filename specified in the <i>-batch filename</i> comand-line 
    option and the <i>SET MODE METAFILE:filename</i> Ferret command is 
    now used for saving images in any of the supported formats.  When 
    PyFerret stops, or when the filename is changed in a Ferret session, 
    the current image is saved to file using that name.  The format for 
    the image file is guessed from the filename extension (for example, 
    PNG for <i>.png</i>, PostScript to <i>.ps</i>, PDF for <i>.pdf</i>).
    </dd>
<dt>GIF files are no longer created</dt>
    <dd>
    PyFerret does not produce GIF image files since the underlying 
    graphics engines do not support creating images in GIF format.  
    Instead, the image will be saved in PNG format in a file with 
    the same name except with a <i>.png</i> extension instead of a 
    <i>.gif</i> extension to support existing scripts.
    </dd>
<dt>GKS metafiles (<i>.plt</i> files) are no longer created</dt>
    <dd>
    PyFerret does not produce GKS metafiles since the underlying graphics 
    engines do not support creating GKS metafiles.  Instead, the image 
    will be saved as a PostScript file with the same name except with a 
    <i>.ps</i> extension instead of a <i>.plt</i> extension to support 
    existing scripts.
    </dd>
<a name="PPLCOLORCOB"></a>
<dt>Changing a color does not change previously drawn items</dt>
    <dd>
    In Ferret, the XGKS graphics engine uses color values in a color 
    table when drawing and when refreshing a displayed image.  The 
    PPL COLOR command updates the values for a color table entry.  
    So this command modifies the color of all items drawn that use
    the modified color table entry, including items drawn prior to
    the PPL COLOR command.
    <br />
    In PyFerret, the graphics engines use the color values in the 
    color table only at the time of initial drawing of an item.  
    Thus the PPL COLOR command will only affect the color of items 
    drawn after the command.  All items drawn prior to the PPL COLOR 
    command will remain unchanged.
    </dd>
</dl>

<a name="KNOWNISSUES"></a>
<h3>Known Issues</h3>
<dl>
<dt>PLOT+ patterns are not supported</dt>
    <dd>
    PLOT+ pattern files are not yet supported by the new graphics engines.  
    Thus <i>/pattern</i> qualifiers on Ferret plotting commands usually 
    will result in an error.
    </dd>
<dt>Shared time axis not always recognized with putdata and put functions</dt>
    <dd>
    When bringing Python data into Ferret using the PyFerret put or putdata 
    functions, sometimes a time axis in common with an existing time axis 
    in Ferret is not recognized.  This is most likely due to trying to map 
    times derived from the six integer array values (year, month, day, hour, 
    minute, second) to a single floating point time value.
    </dd>
<dt>A "metafile" name with a <i>.plt</i> extension can sometimes cause errors</dt>
    <dd>
    Setting the "metafile" name (using the <i>SET MODE METAFILE:filename</i> 
    Ferret command) to a filename with the <i>.plt</i> extension can 
    sometimes cause errors.  PyFerret should automatically convert to using 
    PostScript format in these case, using the filename with a <i>.ps</i> 
    extension instead of the <i>.plt</i> extension.  But under some 
    circumstances this process fails.
    </dd>
<dt>White default symbols fail</dt>
    <dd>
    Errors have been observed when plotting using a default symbol in white.
    </dd>
<dt>PDF files are not compressed on RHEL5 systems</dt>
    <dd>
    PDF files are not compressed when created using PyFerret on RHEL5 
    systems with the version of Qt4 and Cairo provided by the RedHat 
    software repository.  However, these uncompressed files can still 
    be read by standard viewing programs such as acroread and evince.  
    PDF files are compressed when created on RHEL6 and other Linux 
    systems.
    </dd>
</dl>

<a name="RELEASENOTES"></a>
<h3>Release Notes for PyFerret 0.0.9</h3>

<dl>
<dt>PyFerret uses double-precision floating-point values for all 
    calculations and data arrays.</dt>
    <dd>
    PyFerret has been updated to use Ferret 6.8.2 as its Ferret engine.
    One major enhancement to Ferret 6.8.2 was the use of double-precision
    floating-point values for all calculations and data arrays.  See 
    <a href="http://ferret.pmel.noaa.gov/Ferret/documentation/release-notes/version-6-8-release-notes#DoublePrecision">
    these release notes</a> for more details about this enhancement 
    in Ferret. <br />
    Because of this change, NumPy numeric data arrays used by PyFerret 
    now have the type NumPy float64 (or Python float).  If your Python 
    code explicitly creates NumPy float32 arrays that are given to 
    PyFerret, the data type will need to be changed to float64.  For 
    most users, however, no changes to your Python code will be required. 
    </dd>
<dt>PyFerret implements a six-dimensional grid.</dt>
    <dd>
    This also is a result of the update of PyFerret to use Ferret 6.8.2 
    as its Ferret engine.  This Ferret enhancement provides standard axes
    for ensembles as well as forecasts in a data array.  See
    <a href="http://ferret.pmel.noaa.gov/Ferret/documentation/release-notes/version-6-8-release-notes#SixDim">
    these release notes</a> for more details about this enhancement 
    in Ferret. <br />
    Because of this change, NumPy numeric data arrays returned by PyFerret 
    now have six dimensions instead of four.  As before, the NumPy array 
    shape value for both singleton and normal (orthogonal, unused) axes 
    is one.  The additional axes can be used as desired in Ferret external 
    functions written in Python.  If not specified, the usual default 
    values (such as the result axis is inherited from the arguments) will 
    apply to the two additional axes.
    </dd>
<dt>Ferret Fortran external functions now work properly.</dt>
    <dd>
    Ferret Fortran external functions are are created from Fortran source 
    files that are compiled and linked to create a shared-object (.so) 
    library file.  These .so library files are contained in a directory 
    listed in the <i>$FER_EXTERNAL_FUNCTIONS</i> environment variable.  
    To work with PyFerret, these external functions will need to be rebuilt, 
    not only to use double-precision (possibly six-dimensional) arrays, 
    but also to use the PyFerret shared-object library to resolve calls 
    to Ferret utility functions (the ef_... functions).  See the
    <a href="http://ferret.pmel.noaa.gov/Ferret/documentation/pyferret/fortranefs/">
    Ferret Fortran external functions</a> section of the PyFerret 
    documentation for more information.
    </dd>
<dt>Command-line options <i>-unmapped</i>, <i>-gif</i>, <i>-batch</i> now 
    turn on anti-aliasing</dt>
    <dd>
    When the <i>pyferret</i> script is called with either the 
    <i>-unmapped</i>, <i>-gif</i>, or <i>-batch</i> command-line options, 
    anti-aliasing is now turned on by default to be consistent with 
    the Ferret command <i>SET GRAPHICS UNMAPPED</i>.
    </dd>
<dt>Filename completion using the <b>TAB</b> key now works</dt>
    <dd>
    At the Ferret prompt in PyFerret, the <b>TAB</b> key will complete a 
    partial file name or provide a list of matching file names if there 
    is more than one.  At the Python prompt, however, whatever completion 
    method was used with the readline module will still be used (by default, 
    the method in rlcompleter, which provides a list of matching Python 
    variables and methods).  
    </dd>
<dt>The initialization script <i>$PYTHONSTARTUP</i> is now read</dt>
    <dd>
    When Python starts under normal conditions, Python executes the 
    commands given in an initialization script named by the environment 
    variable <i>PYTHONSTARTUP</i>.  When using the pyferret shell 
    scripts, however, this initialization is not automatically performed 
    by Python (because of the use of the <i>-i</i> Python command-line 
    option).<br />
    To provide behavior consistent with a normal start-up of Python,
    the <i>pyferret.init</i> method (which is used by the pyferret shell 
    scripts) now executes the commands in the <i>$PYTHONSTARTUP</i> 
    initialization script unless <i>-secure</i> is given in the arguments 
    (given as a command-line option).  
    </dd>
<dt>PPL COLOR command now works</dt>
    <dd>
    The PPL COLOR command now works as expected, changing the color 
    value used for a color number in subsequent drawing commands.
    However, see <a href="#PPLCOLORCOB">the note above</a> about the 
    change in behavior of this command in PyFerret.
    </dd>
<dt>Images automatically saved now have an opaque white background 
    by default</dt>
    <dd>
    Images automatically saved from using the <i>-batch filename</i> 
    command-line option or the <i>SET MODE METAFILE:filename</i> Ferret 
    command now have an opaque white background.  Use the 
    <i>-transparent</i> command-line option to save the image with a 
    transparent background (if transparency is supported by the image 
    format used).
    </dd>
<dt>The window title of the default first window is now properly assigned</dt>
    <dd>
    The default first window displayed now has the standard window title
    of <i>FERRET_(windownumber)_(datestamp)</i>. 
    </dd>
</dl>

<br />
<br />

<p>
Please send bug reports to
<a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#111;&#97;&#114;&#46;&#112;&#109;&#101;&#108;&#46;&#99;&#111;&#110;&#116;&#97;&#99;&#116;&#95;&#102;&#101;&#114;&#114;&#101;&#116;&#64;&#110;&#111;&#97;&#97;&#46;&#103;&#111;&#118;">
  &#111;&#97;&#114;&#46;&#112;&#109;&#101;&#108;&#46;&#99;&#111;&#110;&#116;&#97;&#99;&#116;&#95;&#102;&#101;&#114;&#114;&#101;&#116;&#64;&#110;&#111;&#97;&#97;&#46;&#103;&#111;&#118; </a> 
</p>

<p>
<a href="http://ferret.pmel.noaa.gov/Ferret/documentation/pyferret/">Return to PyFerret documentation</a>
</p>

<table border="1">
<tr>
<td> <a class="nav" href="http://www.doc.gov/">US Department of Commerce</a> </td >
<td> <a class="nav" href="http://www.noaa.gov/">NOAA</a> </td>
<td> <a class="nav" href="http://www.oar.noaa.gov/">OAR</a> </td>
<td> <a class="nav" href="http://www.pmel.noaa.gov/">PMEL</a> </td>
<td> <a class="nav" href="http://www.pmel.noaa.gov/home/persons.shtml">Contacts</a> </td>
<td> <a class="nav" href="http://www.noaa.gov/privacy.html">Privacy Policy</a> </td>
<td> <a class="nav" href="http://www.noaa.gov/disclaimer.html">Disclaimer</a> </td>
</tr>
</table>

<p style="text-align:left;"><strong>
NOAA/OAR/PMEL<br />
Pacific Marine Environmental Laboratory<br>
7600 Sand Point Way NE, Seattle, WA 98115<br>
Phone: (206) 526-6239 ~ Fax: (206) 526-6815 
Email: <a href="&#109;&#97;&#105;&#108;&#116;&#111;&#58;&#111;&#97;&#114;&#46;&#112;&#109;&#101;&#108;&#46;&#99;&#111;&#110;&#116;&#97;&#99;&#116;&#95;&#102;&#101;&#114;&#114;&#101;&#116;&#64;&#110;&#111;&#97;&#97;&#46;&#103;&#111;&#118;">
        &#111;&#97;&#114;&#46;&#112;&#109;&#101;&#108;&#46;&#99;&#111;&#110;&#116;&#97;&#99;&#116;&#95;&#102;&#101;&#114;&#114;&#101;&#116;&#64;&#110;&#111;&#97;&#97;&#46;&#103;&#111;&#118; </a>
</strong></p>

</body>
</html>
